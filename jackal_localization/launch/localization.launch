<?xml version="1.0"?>
<launch>


<node pkg="ira_laser_tools" name="laserscan_multi_merger" type="laserscan_multi_merger" output="screen">
  <param name="destination_frame" value="base_link"/>
  <param name="scan_destination_topic" value="/scan_combined"/>
  <param name="laserscan_topics" value="/scan_front /scan_back" /> <param name="angle_min" value="-3.14159"/>
  <param name="angle_max" value="3.14159"/>
  
  <param name="angle_increment" value="0.0058"/> <param name="scan_time" value="0.0333333"/>
  <param name="range_min" value="0.10"/>
  <param name="range_max" value="30.0"/>
</node>


<node pkg="laser_scan_matcher" type="laser_scan_matcher_node" name="laser_scan_matcher_node" output="screen">
  <param name="tf_tolerance" value="0.1"/>
  <remap from="scan" to="/scan_combined"/>

  <param name="fixed_frame" value="odom"/>
  <param name="base_frame" value="base_link"/>

  <param name="publish_tf" value="false"/>
  <param name="publish_pose" value="true"/>
  <param name="publish_pose_stamped" value="true"/>
  <param name="publish_pose_with_covariance_stamped" value="true"/>
</node>



<node name="wheel_odom" pkg="jackal_localization" type="wheel_odom.py" output="screen"></node>

<node pkg="robot_localization" type="ekf_localization_node" name="ekf_custom" clear_params="true">
  <remap from="odometry/filtered" to="/odom/filtered"/>
  <rosparam command="load" file="$(find jackal_localization)/params/ekf_params.yaml" />
</node>

<!-- <node pkg="robot_localization" type="ekf_localization_node" name="ekf_se_map" clear_params="true">
  <remap from="odometry/filtered" to="odometry/filtered_map"/>
</node> -->
<!-- <node name="odom_to_map" pkg="tf" type="static_transform_publisher" args="-0.1 0.1 0.0 0.0 0.0 0 map odom 200" /> -->


</launch>
